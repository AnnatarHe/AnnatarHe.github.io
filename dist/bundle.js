!function(){"use strict";var e=function(){var e=document.title;return function(){"hidden"==document.visibilityState?document.title="别在其他网站瞎逛游了，快回来～":document.title=e}},t=(document.querySelector(".search__action"),document.querySelector(".search__input")),n=document.querySelector(".search__result--lists"),r=function(){return new Promise(function(e,n){var r=t.value.toLowerCase().trim(),c=posts.filter(function(e){return e.title.toLowerCase().indexOf(r)>0||e.url.toLowerCase().indexOf(r)>0});e(c)}).then(function(e){var t="",n=!0,r=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=i.value;t+='\n            <li>\n                <a href="'+a.url+'">\n                    <span class="title">'+a.title+'</span>\n                    <span class="url">'+a.url+"</span>\n                </a>\n            </li>\n            "}}catch(s){r=!0,c=s}finally{try{!n&&o["return"]&&o["return"]()}finally{if(r)throw c}}return t}).then(function(e){n.innerHTML=e})},c=document.querySelector(".searchTrigger"),i=(document.querySelector(".search__close"),document.querySelector(".search__mask")),o=i.classList,a=function(){o.remove("show"),o.add("hide")},s=function(){o.remove("hide"),o.add("show")},u=function(e){var t=e.target.classList,n=!!t.contains("search__mask"),r=!!t.contains("search__close"),c=!!t.contains("fa-close");(n||r||c)&&a()},l=function(e){var t=e.keyCode;o.contains("show")&&27==t&&a()},d=document.querySelector(".search__action"),h=document.querySelector(".search__input");document.addEventListener("visibilitychange",e()),h.addEventListener("input",r,!1),d.addEventListener("click",r,!1),c.addEventListener("click",s,!1),i.addEventListener("click",u,!1),document.body.addEventListener("keydown",l,!1)}();