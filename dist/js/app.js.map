{"version":3,"sources":["search.js","app.js"],"names":["test","foo","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_iterator","Symbol","iterator","_step","next","done","i","value","err","e","alert","searchBtn","document","querySelector","searchText","resultDom","handleSearcher","Promise","resolve","reject","searchVal","result","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","posts","post","title","indexOf","push","then","res","domStr","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","url","innerHTML","addEventListener","keyCode"],"mappings":"AAOA,YAIA,KACI,GAAMA,OAAQC,IAAK,OCEfC,2BAA4B,EAC5BC,mBAAoB,EACpBC,eAAiBC,MAErB,KDLA,IAAA,GAAAC,WAAaN,KAAAO,OAAAC,YAAAC,QAAbP,2BAAAO,MAAAH,UAAAI,QAAAC,MAAAT,2BAAA,ECOQ,GDPAU,GAAAH,MAAAI,MCSN,MAAOC,KACLX,mBAAoB,EACpBC,eAAiBU,IACnB,QACE,KACSZ,2BAA6BI,UAAAA,WAC9BA,UAAAA,YAEN,QACE,GAAIH,kBACA,KAAMC,kBDjBrB,MAAMW,GACHC,MAAM,2BAIV,GAAMC,WAAYC,SAASC,cAAc,cACnCC,WAAaF,SAASC,cAAc,eACpCE,UAAYH,SAASC,cAAc,eAOnCG,eAAiB,WACnB,GAAIC,SAAQ,SAACC,EAASC,GAClB,GAAIC,GAAYN,WAAWP,MACvBc,KCsBAC,GAA6B,EAC7BC,GAAqB,EACrBC,EAAkBzB,MAEtB,KDzBA,IAAA,GAAiB0B,GAAjBC,EAAiBC,MAAA1B,OAAAC,cAAjBoB,GAAAG,EAAAC,EAAAtB,QAAAC,MAAAiB,GAAA,EAAwB,CC2BhB,GD3BCM,GAAAH,EAAAlB,KACAqB,GAAKC,MAAMC,QAAQV,IACpBC,EAAOU,KAAKH,IC+BlB,MAAOpB,GACLe,GAAqB,EACrBC,EAAkBhB,EACpB,QACE,KACSc,GAA8BI,EAAAA,WAC/BA,EAAAA,YAEN,QACE,GAAIH,EACA,KAAMC,IDtClBN,EAAQG,KAEXW,KAAK,SAAAC,GAEF,GAAIC,GAAS,6BC2CTC,GAA6B,EAC7BC,GAAqB,EACrBC,EAAkBtC,MAEtB,KD9CA,IAAA,GAAiBuC,GAAjBC,EAAiBN,EAAAhC,OAAAC,cAAjBiC,GAAAG,EAAAC,EAAAnC,QAAAC,MAAA8B,GAAA,EAAuB,CCgDf,GDhDCP,GAAAU,EAAA/B,KACL2B,IAAA,gDAEeN,EAAKY,IAAL,iCACCZ,EAAKC,MAAL,uCACCD,EAAKY,IAAL,mEC+CnB,MAAOhC,GACL4B,GAAqB,EACrBC,EAAkB7B,EACpB,QACE,KACS2B,GAA8BI,EAAAA,WAC/BA,EAAAA,YAEN,QACE,GAAIH,EACA,KAAMC,IDnDlB,MADAH,IAAU,UAGbF,KAAK,SAAAE,GAEFnB,UAAU0B,UAAYP,IAK9BvB,WAAU+B,iBAAiB,QAAS1B,gBAAgB,GACpDL,UAAU+B,iBAAiB,QAAS,SAACjC,GAChB,IAAbA,EAAEkC,SACF3B,mBAEL","file":"app.js","sourcesContent":["// warning:\r\n// this script for search post by json that jekyll generated\r\n// this script is coding. DO NOT use it in production!!!\r\n//\r\n// @Author  AnnatarHe\r\n// @Email   iamhele1994@gmail.com\r\n// @License MIT\r\n'use strict'\r\n\r\n// Scan the browser support es6 or not.\r\n// if not support... fuck off\r\ntry {\r\n    const test = {foo: 'bar'}\r\n    for(let i of test) {\r\n    }\r\n}catch(e) {\r\n    alert('哥，咱更新下浏览器吧 \\n 我没对低版本做兼容')\r\n}\r\n\r\n// get the doms\r\nconst searchBtn = document.querySelector('.searchBtn')\r\nconst searchText = document.querySelector('.searchText')\r\nconst resultDom = document.querySelector('.result-dom')\r\n\r\n// Search action. \r\n// First of all. get the input by user.\r\n// Secondly. Using user input comparse with the json file\r\n// Finally. put it in dom!\r\n// Tips: innerHTML maybe good performance \r\nconst handleSearcher = () => {\r\n    new Promise((resolve, reject) => {\r\n        let searchVal = searchText.value\r\n        let result = []\r\n        for (let post of posts) {\r\n            if ( post.title.indexOf(searchVal) ) {\r\n                result.push(post)\r\n            }\r\n        }\r\n        resolve(result)\r\n    })\r\n    .then(res => {\r\n        // contact the dom string\r\n        let domStr = '<ul class=\"search-result\">'\r\n        for (let post of res ) {\r\n            domStr += `\r\n            <li>\r\n                <a href=\"${post.url}\">\r\n                    <span>${post.title}</span>\r\n                    <small>${post.url}</small>\r\n                </a>\r\n            </li>\r\n            `\r\n        }\r\n        domStr += '</ul>'\r\n        return domStr\r\n    })\r\n    .then(domStr => {\r\n        // render it!\r\n        resultDom.innerHTML = domStr\r\n    })\r\n}\r\n\r\n// listening double event.\r\nsearchBtn.addEventListener('input', handleSearcher, false)\r\nsearchBtn.addEventListener('keyup', (e) => {\r\n    if (e.keyCode == 13) {\r\n        handleSearcher()\r\n    }\r\n}, false)\r\n","// warning:\n// this script for search post by json that jekyll generated\n// this script is coding. DO NOT use it in production!!!\n//\n// @Author  AnnatarHe\n// @Email   iamhele1994@gmail.com\n// @License MIT\n'use strict';\n\n// Scan the browser support es6 or not.\n// if not support... fuck off\n\ntry {\n    var test = { foo: 'bar' };\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = test[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var i = _step.value;\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n} catch (e) {\n    alert('哥，咱更新下浏览器吧 \\n 我没对低版本做兼容');\n}\n\n// get the doms\nvar searchBtn = document.querySelector('.searchBtn');\nvar searchText = document.querySelector('.searchText');\nvar resultDom = document.querySelector('.result-dom');\n\n// Search action.\n// First of all. get the input by user.\n// Secondly. Using user input comparse with the json file\n// Finally. put it in dom!\n// Tips: innerHTML maybe good performance\nvar handleSearcher = function handleSearcher() {\n    new Promise(function (resolve, reject) {\n        var searchVal = searchText.value;\n        var result = [];\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n            for (var _iterator2 = posts[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                var post = _step2.value;\n\n                if (post.title.indexOf(searchVal)) {\n                    result.push(post);\n                }\n            }\n        } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                    _iterator2.return();\n                }\n            } finally {\n                if (_didIteratorError2) {\n                    throw _iteratorError2;\n                }\n            }\n        }\n\n        resolve(result);\n    }).then(function (res) {\n        // contact the dom string\n        var domStr = '<ul class=\"search-result\">';\n        var _iteratorNormalCompletion3 = true;\n        var _didIteratorError3 = false;\n        var _iteratorError3 = undefined;\n\n        try {\n            for (var _iterator3 = res[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                var post = _step3.value;\n\n                domStr += '\\n            <li>\\n                <a href=\"' + post.url + '\">\\n                    <span>' + post.title + '</span>\\n                    <small>' + post.url + '</small>\\n                </a>\\n            </li>\\n            ';\n            }\n        } catch (err) {\n            _didIteratorError3 = true;\n            _iteratorError3 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                    _iterator3.return();\n                }\n            } finally {\n                if (_didIteratorError3) {\n                    throw _iteratorError3;\n                }\n            }\n        }\n\n        domStr += '</ul>';\n        return domStr;\n    }).then(function (domStr) {\n        // render it!\n        resultDom.innerHTML = domStr;\n    });\n};\n\n// listening double event.\nsearchBtn.addEventListener('input', handleSearcher, false);\nsearchBtn.addEventListener('keyup', function (e) {\n    if (e.keyCode == 13) {\n        handleSearcher();\n    }\n}, false);"],"sourceRoot":"/source/"}