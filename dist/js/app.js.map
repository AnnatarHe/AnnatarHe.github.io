{"version":3,"sources":["app.js","global.js","search.js","search_trigger.js"],"names":["window","location","protocol","indexOf","handleSearcher","Promise","resolve","reject","searchVal","searchText","value","toLowerCase","trim","res","posts","filter","item","title","url","then","domStr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","post","err","resultDom","innerHTML","searchBtn","document","querySelector","addEventListener","handleCloseEvent","searchMask","remove","add","trigger","searchMaskBtn","classList","e","targetClassList","target","isMaskClicked","contains","isCloseBtnClicked","isCloseIconClicked","body","eCode","keyCode"],"mappings":"AAAA,cCAA,WACSA,OAAOC,SAASC,SAASC,QAAQ,KAAO,IACzCH,OAAOC,SAASC,SAAW,YCKnC,WAAY,QAWCE,KACL,GAAIC,SAAQ,SAACC,EAASC,GAClB,GAAIC,GAAYC,EAAWC,MAAMC,cAAcC,OAC3CC,EAAMC,MAAMC,OAAO,SAACC,GACpB,MAAOA,GAAMC,MAAMN,cAAcR,QAAQK,GAAa,GAAOQ,EAAKE,IAAIP,cAAcR,QAAQK,GAAa,GAE7GF,GAAQO,KAEXM,KAAK,SAAAN,GAEF,GAAIO,GAAS,GFUTC,GAA4B,EAC5BC,GAAoB,EACpBC,EAAiBC,MAErB,KEbA,IAAA,GAAiBC,GAAjBC,EAAiBb,EAAAc,OAAAC,cAAjBP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAAuB,CFef,GEfCU,GAAAN,EAAAf,KACLU,IAAA,wDAEeW,EAAKb,IAAL,mDACea,EAAKd,MAAL,sDACFc,EAAKb,IAAL,8EFc9B,MAAOc,GACLV,GAAoB,EACpBC,EAAiBS,EACnB,QACE,KACSX,GAA6BK,EAAAA,WAC9BA,EAAAA,YAEN,QACE,GAAIJ,EACA,KAAMC,IEnBlB,MAAOH,KAEVD,KAAK,SAAAC,GAEFa,EAAUC,UAAYd,IAlC9B,GAAMe,GAAYC,SAASC,cAAc,mBACnC5B,EAAa2B,SAASC,cAAc,kBACpCJ,EAAYG,SAASC,cAAc,yBAJjC5B,GAyCG6B,iBAAiB,QAASlC,GAAgB,GACrD+B,EAAUG,iBAAiB,QAASlC,GAAgB,MCjDxD,WAAY,QAsCFmC,KACRC,EAAWC,OAAO,QAClBD,EAAWE,IAAI,QAtChB,GAAMC,GAAUP,SAASC,cAAc,kBAGjCO,GAFQR,SAASC,cAAc,kBAEfD,SAASC,cAAc,kBACvCG,EAAaI,EAAcC,SAEjCF,GAAQL,iBAAiB,QAAS,WACjCE,EAAWC,OAAO,QAClBD,EAAWE,IAAI,UACd,GAXSE,EAcGN,iBAAiB,QAAS,SAAAQ,GACvC,GAAIC,GAAkBD,EAAEE,OAAOH,UAC3BI,EAAgBF,EAAgBG,SAAS,iBAAkB,GAAO,EAClEC,EAAoBJ,EAAgBG,SAAS,kBAAmB,GAAO,EACvEE,EAAqBL,EAAgBG,SAAS,aAAc,GAAO,GAGnED,GAAiBE,GAAqBC,IACzCb,MAIC,GACHH,SAASiB,KAAKf,iBAAiB,UAAW,SAAAQ,GACzC,GAAIQ,GAAQR,EAAES,OACVf,GAAWU,SAAS,SAAoB,IAATI,GAClCf,MAIC","file":"app.js","sourcesContent":["'use strict';\n\n(function () {\n    if (window.location.protocol.indexOf('s') < 0) {\n        window.location.protocol = 'https';\n    }\n})();\n'use strict';\n\n// This script for search post by json that jekyll generated\n//\n// @Author  AnnatarHe\n// @Email   iamhele1994@gmail.com\n// @License MIT\n\n// get the doms\n(function () {\n    'use strict';\n\n    var searchBtn = document.querySelector('.search__action');\n    var searchText = document.querySelector('.search__input');\n    var resultDom = document.querySelector('.search__result--lists');\n\n    // Search action.\n    // First of all. get the input by user.\n    // Secondly. Using user input comparse with the json file\n    // Finally. put it in dom!\n    // Tips: innerHTML maybe good performance\n    function handleSearcher() {\n        new Promise(function (resolve, reject) {\n            var searchVal = searchText.value.toLowerCase().trim();\n            var res = posts.filter(function (item) {\n                return item.title.toLowerCase().indexOf(searchVal) > 0 || item.url.toLowerCase().indexOf(searchVal) > 0;\n            });\n            resolve(res);\n        }).then(function (res) {\n            // contact the dom string\n            var domStr = '';\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = res[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var post = _step.value;\n\n                    domStr += '\\n                <li>\\n                    <a href=\"' + post.url + '\">\\n                        <span class=\"title\">' + post.title + '</span>\\n                        <span class=\"url\">' + post.url + '</span>\\n                    </a>\\n                </li>\\n                ';\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            return domStr;\n        }).then(function (domStr) {\n            // render it!\n            resultDom.innerHTML = domStr;\n        });\n    }\n\n    // listening double event.\n    searchText.addEventListener('input', handleSearcher, false);\n    searchBtn.addEventListener('click', handleSearcher, false);\n})();\n'use strict';\n\n(function () {\n\t'use strict';\n\n\tvar trigger = document.querySelector('.searchTrigger');\n\tvar close = document.querySelector('.search__close');\n\n\tvar searchMaskBtn = document.querySelector('.search__mask');\n\tvar searchMask = searchMaskBtn.classList;\n\n\ttrigger.addEventListener('click', function () {\n\t\tsearchMask.remove('hide');\n\t\tsearchMask.add('show');\n\t}, false);\n\n\t// handle close event\n\tsearchMaskBtn.addEventListener('click', function (e) {\n\t\tvar targetClassList = e.target.classList;\n\t\tvar isMaskClicked = targetClassList.contains('search__mask') ? true : false;\n\t\tvar isCloseBtnClicked = targetClassList.contains('search__close') ? true : false;\n\t\tvar isCloseIconClicked = targetClassList.contains('fa-close') ? true : false;\n\t\t// if clicked is target\n\t\t// then trigger close event\n\t\tif (isMaskClicked || isCloseBtnClicked || isCloseIconClicked) {\n\t\t\thandleCloseEvent();\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}, false);\n\tdocument.body.addEventListener('keydown', function (e) {\n\t\tvar eCode = e.keyCode;\n\t\tif (searchMask.contains('show') && eCode == 27) {\n\t\t\thandleCloseEvent();\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}, false);\n\n\t// handle close\n\t// just css animation\n\tfunction handleCloseEvent() {\n\t\tsearchMask.remove('show');\n\t\tsearchMask.add('hide');\n\t}\n})();","(function() {\r\n    if ( window.location.protocol.indexOf('s') < 0) {\r\n        window.location.protocol = 'https'\r\n    }\r\n})()","// This script for search post by json that jekyll generated\r\n//\r\n// @Author  AnnatarHe\r\n// @Email   iamhele1994@gmail.com\r\n// @License MIT\r\n\r\n// get the doms\r\n(function() {\r\n    'use strict'\r\n    const searchBtn = document.querySelector('.search__action')\r\n    const searchText = document.querySelector('.search__input')\r\n    const resultDom = document.querySelector('.search__result--lists')\r\n\r\n    // Search action. \r\n    // First of all. get the input by user.\r\n    // Secondly. Using user input comparse with the json file\r\n    // Finally. put it in dom!\r\n    // Tips: innerHTML maybe good performance \r\n    function handleSearcher() {\r\n        new Promise((resolve, reject) => {\r\n            let searchVal = searchText.value.toLowerCase().trim()\r\n            let res = posts.filter((item) => {\r\n                return (item.title.toLowerCase().indexOf(searchVal) > 0) || (item.url.toLowerCase().indexOf(searchVal) > 0)\r\n            })\r\n            resolve(res)\r\n        })\r\n        .then(res => {\r\n            // contact the dom string\r\n            let domStr = ''\r\n            for (let post of res ) {\r\n                domStr += `\r\n                <li>\r\n                    <a href=\"${post.url}\">\r\n                        <span class=\"title\">${post.title}</span>\r\n                        <span class=\"url\">${post.url}</span>\r\n                    </a>\r\n                </li>\r\n                `\r\n            }\r\n            return domStr\r\n        })\r\n        .then(domStr => {\r\n            // render it!\r\n            resultDom.innerHTML = domStr\r\n        })\r\n    }\r\n\r\n    // listening double event.\r\n    searchText.addEventListener('input', handleSearcher, false)\r\n    searchBtn.addEventListener('click', handleSearcher, false)\r\n})()","(function() {\r\n\t'use strict'\r\n\tconst trigger = document.querySelector('.searchTrigger')\r\n\tconst close = document.querySelector('.search__close')\r\n\r\n\tconst searchMaskBtn = document.querySelector('.search__mask')\r\n\tconst searchMask = searchMaskBtn.classList\r\n\r\n\ttrigger.addEventListener('click', () => {\r\n\t\tsearchMask.remove('hide')\r\n\t\tsearchMask.add('show')\r\n\t},false)\r\n\r\n\t// handle close event\r\n\tsearchMaskBtn.addEventListener('click', e => {\r\n\t\tlet targetClassList = e.target.classList\r\n\t\tlet isMaskClicked = targetClassList.contains('search__mask') ? true : false\r\n\t\tlet isCloseBtnClicked = targetClassList.contains('search__close') ? true : false\r\n\t\tlet isCloseIconClicked = targetClassList.contains('fa-close') ? true : false\r\n\t\t// if clicked is target \r\n\t\t// then trigger close event\r\n\t\tif (isMaskClicked || isCloseBtnClicked || isCloseIconClicked) {\r\n\t\t\thandleCloseEvent()\r\n\t\t}else {\r\n\t\t\treturn\r\n\t\t}\r\n\t}, false)\r\n\tdocument.body.addEventListener('keydown', e => {\r\n\t\tlet eCode = e.keyCode\r\n\t\tif (searchMask.contains('show') && eCode == 27) {\r\n\t\t\thandleCloseEvent()\r\n\t\t}else {\r\n\t\t\treturn\r\n\t\t}\r\n\t}, false)\r\n\r\n\t// handle close\r\n\t// just css animation\r\n\tfunction handleCloseEvent() {\r\n\t\tsearchMask.remove('show')\r\n\t\tsearchMask.add('hide')\r\n\t}\r\n})()"],"sourceRoot":"/source/"}